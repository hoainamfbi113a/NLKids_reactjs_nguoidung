{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenhoainam/Desktop/Khoa luan tot nghiep/NLKids_reactjs_nguoidung/src/components/client/content/forum/list_question_forum/ListQuestionForum.js\";\nimport React, { Component } from 'react';\nimport { Editor } from '@tinymce/tinymce-react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nexport default class ListQuestionForum extends Component {\n  constructor(props) {\n    //khởi tạo giá trị\n    super(props);\n\n    this.onChange = e => {\n      switch (e.target.name) {\n        case 'lessionContentImg':\n          this.setState({\n            lessionContentImg: e.target.files[0]\n          });\n          break;\n\n        default:\n          this.setState({\n            [e.target.name]: e.target.value\n          });\n      }\n    };\n\n    this.handleEditorChange = (content, editor) => {\n      console.log('Content was updated:', content);\n      this.setState({\n        titleForumQuestion: content\n      });\n    };\n\n    this.state = {\n      _id: '',\n      classForumQuestion: \"Anh văn 1\",\n      titleForumQuestion: \"\",\n      memberForumQuestionAvatarContentImg: \"\",\n      memberForumQuestionMemberName: \"\",\n      files: [],\n      errors: {}\n    };\n    this.onChange = this.onChange.bind(this); //để nó hiểu this ở đây là Resgister\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    var r = this;\n    e.preventDefault();\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token); //giai ma token\n\n    console.log(decoded);\n    this.setState({\n      // first_name: decoded.first_name,\n      memberForumQuestionMemberName: decoded.memberLogin\n    });\n    const {\n      classForumQuestion,\n      titleForumQuestion,\n      memberForumQuestionMemberName\n    } = this.state;\n    const formData = new FormData();\n    formData.append('memberForumQuestionMemberName', memberForumQuestionMemberName);\n    formData.append('classForumQuestion', classForumQuestion);\n    formData.append('titleForumQuestion', titleForumQuestion);\n    axios.post('http://localhost:5000/admin/lession', formData).then(function (response) {\n      if (response.data === 'User already exists') alert('User already exists');else {\n        r.props.history.push('/admin/lession');\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n    setTimeout(() => {\n      r.props.history.push('/admin/lession');\n    }, 400);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"xin chao\") // <div className=\"ListQuestionForum-content content\">\n    //     <div className=\"ListQuestionForum-inf\">\n    //         <div className=\"ListQuestionForum-inf\">\n    //             <img className>\n    //             </img>\n    //             <p>\n    //                 Xin chaochao user\n    //             </p>\n    //             <p>\n    //                 Để đăng câu hỏi mới hãy nhập nội dung câu hỏi vào khung soạn thảo dưới đây:\n    //             </p>\n    //         </div>\n    //                     <form className=\"form-horizontal\" noValidate onSubmit={this.onSubmit}>\n    //                     <div className=\"box-body\">\n    //                         <div className=\"form-group\">\n    //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Môn học</label>\n    //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}} >\n    //                             <input type=\"hidden\" className=\"form-control\"  placeholder=\"text\" onChange={this.onChange} name=\"_id\" value={this.state._id}/>\n    //                             <select className=\"form-control\"  onChange={this.onChange}  name=\"lessionContentSubjects\" >\n    //                             <option value=\"Anh văn 1\">Anh văn lớp 1</option>\n    //                             <option value=\"Anh văn 2\">Anh văn lớp 2</option>\n    //                             <option value=\"Anh văn 3\">Anh văn lớp 3</option>\n    //                             <option value=\"Anh văn 4\">Anh văn lớp 4</option>\n    //                             <option value=\"Anh văn 5\">Anh văn lớp 5</option>\n    //                             <option value=\"Toán lớp 1\">Toán lớp 1</option>\n    //                             <option value=\"Toán lớp 2\">Toán lớp 2</option>\n    //                             <option value=\"Toán lớp 3\">Toán lớp 3</option>\n    //                             <option value=\"Toán lớp 4\">Toán lớp 4</option>\n    //                             <option value=\"Toán lớp 5\">Toán lớp 5</option>\n    //                         </select>\n    //                         </div>\n    //                         </div>\n    //                         <div className=\"form-group\">\n    //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Tiêu đề</label>\n    //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n    //                             <input type=\"text\" className=\"form-control\"  placeholder=\"Tieu de\" onChange={this.onChange} name=\"lessionContentTitle\" value={this.state.lessionContentTitle}/>\n    //                         </div>\n    //                         </div>\n    //                         <div className=\"form-group\">\n    //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Ảnh</label>\n    //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n    //                         <input\n    //                             type=\"file\"\n    //                             name=\"lessionContentImg\"\n    //                             onChange={this.onChange}\n    //                             />\n    //                         </div>\n    //                         </div>\n    //                         <div className=\"form-group\">\n    //                         <label style={{textAlign: 'left'}} htmlFor=\"inputPassword3\" className=\"col-sm-2 control-label\">Noi dung bai hoc</label>\n    //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n    //                         <Editor\n    //                             name=\"lessionContentDetail\"\n    //                                 init={{\n    //                                 height: 500,\n    //                                 menubar: false,\n    //                                 plugins: [\n    //                                 'advlist autolink lists link image charmap print preview anchor',\n    //                                 'searchreplace visualblocks code fullscreen',\n    //                                 'insertdatetime media table paste code help wordcount'\n    //                                     ],\n    //                                 toolbar:\n    //                                 'undo redo | formatselect | bold italic backcolor | \\\n    //                                     alignleft aligncenter alignright alignjustify | \\\n    //                                     bullist numlist outdent indent | removeformat | help'\n    //                         }}\n    //                                     onEditorChange={this.handleEditorChange}\n    //                             />\n    //                             </div>\n    //                         </div>\n    //                     </div>\n    //                     <div className=\"box-footer\" style={{paddingRight: '69px'}}>\n    //                         <button type=\"submit\" className=\"btn btn-info pull-right\">Thêm</button>\n    //                     </div>\n    //         </form>\n    //     </div>\n    // </div>\n    ;\n  }\n\n}","map":{"version":3,"sources":["/Users/nguyenhoainam/Desktop/Khoa luan tot nghiep/NLKids_reactjs_nguoidung/src/components/client/content/forum/list_question_forum/ListQuestionForum.js"],"names":["React","Component","Editor","axios","jwt_decode","ListQuestionForum","constructor","props","onChange","e","target","name","setState","lessionContentImg","files","value","handleEditorChange","content","editor","console","log","titleForumQuestion","state","_id","classForumQuestion","memberForumQuestionAvatarContentImg","memberForumQuestionMemberName","errors","bind","onSubmit","r","preventDefault","token","localStorage","usertoken","decoded","memberLogin","formData","FormData","append","post","then","response","data","alert","history","push","catch","error","setTimeout","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Editor } from '@tinymce/tinymce-react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode'\nexport default class ListQuestionForum extends Component {\n    constructor(props) {//khởi tạo giá trị\n        super(props)\n        this.state = {\n          _id:'',\n          classForumQuestion:\"Anh văn 1\",\n          titleForumQuestion:\"\",\n          memberForumQuestionAvatarContentImg:\"\",\n          memberForumQuestionMemberName:\"\",\n          files:[],\n          errors: {}\n        }\n        this.onChange = this.onChange.bind(this)//để nó hiểu this ở đây là Resgister\n        this.onSubmit = this.onSubmit.bind(this)\n      }\n      onChange = (e) => {\n        switch (e.target.name) {\n          case 'lessionContentImg':\n            this.setState({ lessionContentImg: e.target.files[0] });\n            break;\n          default:\n            this.setState({ [e.target.name]: e.target.value });\n        }\n      }\n      handleEditorChange = (content, editor) => {\n        console.log('Content was updated:', content);\n        this.setState({\n          titleForumQuestion:content\n        })\n      }\n      onSubmit(e) {\n        var r = this;\n        e.preventDefault();\n        const token = localStorage.usertoken\n        const decoded = jwt_decode(token)//giai ma token\n        console.log(decoded)\n        this.setState({\n          // first_name: decoded.first_name,\n          memberForumQuestionMemberName: decoded.memberLogin\n        })\n        const { classForumQuestion, titleForumQuestion, memberForumQuestionMemberName} = this.state;\n        const formData = new FormData()\n        formData.append('memberForumQuestionMemberName', memberForumQuestionMemberName);\n        formData.append('classForumQuestion', classForumQuestion);\n        formData.append('titleForumQuestion', titleForumQuestion);\n        axios.post('http://localhost:5000/admin/lession', formData\n          )\n          .then(function (response) {\n            if(response.data ==='User already exists')\n              alert('User already exists');\n            else{\n            r.props.history.push('/admin/lession')\n            }\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n          setTimeout(()=>{\n            r.props.history.push('/admin/lession')\n          },400)\n       \n      }\n    render() {\n        return (\n          <h1>xin chao</h1>\n            // <div className=\"ListQuestionForum-content content\">\n            //     <div className=\"ListQuestionForum-inf\">\n            //         <div className=\"ListQuestionForum-inf\">\n            //             <img className>\n\n            //             </img>\n            //             <p>\n            //                 Xin chaochao user\n            //             </p>\n            //             <p>\n            //                 Để đăng câu hỏi mới hãy nhập nội dung câu hỏi vào khung soạn thảo dưới đây:\n            //             </p>\n                        \n            //         </div>\n            //                     <form className=\"form-horizontal\" noValidate onSubmit={this.onSubmit}>\n            //                     <div className=\"box-body\">\n            //                         <div className=\"form-group\">\n            //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Môn học</label>\n            //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}} >\n            //                             <input type=\"hidden\" className=\"form-control\"  placeholder=\"text\" onChange={this.onChange} name=\"_id\" value={this.state._id}/>\n            //                             <select className=\"form-control\"  onChange={this.onChange}  name=\"lessionContentSubjects\" >\n            //                             <option value=\"Anh văn 1\">Anh văn lớp 1</option>\n            //                             <option value=\"Anh văn 2\">Anh văn lớp 2</option>\n            //                             <option value=\"Anh văn 3\">Anh văn lớp 3</option>\n            //                             <option value=\"Anh văn 4\">Anh văn lớp 4</option>\n            //                             <option value=\"Anh văn 5\">Anh văn lớp 5</option>\n            //                             <option value=\"Toán lớp 1\">Toán lớp 1</option>\n            //                             <option value=\"Toán lớp 2\">Toán lớp 2</option>\n            //                             <option value=\"Toán lớp 3\">Toán lớp 3</option>\n            //                             <option value=\"Toán lớp 4\">Toán lớp 4</option>\n            //                             <option value=\"Toán lớp 5\">Toán lớp 5</option>\n            //                         </select>\n            //                         </div>\n            //                         </div>\n            //                         <div className=\"form-group\">\n            //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Tiêu đề</label>\n            //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n            //                             <input type=\"text\" className=\"form-control\"  placeholder=\"Tieu de\" onChange={this.onChange} name=\"lessionContentTitle\" value={this.state.lessionContentTitle}/>\n            //                         </div>\n            //                         </div>\n            //                         <div className=\"form-group\">\n            //                         <label style={{textAlign: 'left'}} htmlFor=\"inputEmail3\" className=\"col-sm-2 control-label\">Ảnh</label>\n            //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n            //                         <input\n            //                             type=\"file\"\n            //                             name=\"lessionContentImg\"\n            //                             onChange={this.onChange}\n            //                             />\n            //                         </div>\n            //                         </div>\n            //                         <div className=\"form-group\">\n            //                         <label style={{textAlign: 'left'}} htmlFor=\"inputPassword3\" className=\"col-sm-2 control-label\">Noi dung bai hoc</label>\n            //                         <div className=\"col-sm-10\" style={{marginLeft: '-5%'}}>\n                                    \n            //                         <Editor\n            //                             name=\"lessionContentDetail\"\n            //                                 init={{\n            //                                 height: 500,\n            //                                 menubar: false,\n            //                                 plugins: [\n            //                                 'advlist autolink lists link image charmap print preview anchor',\n            //                                 'searchreplace visualblocks code fullscreen',\n            //                                 'insertdatetime media table paste code help wordcount'\n            //                                     ],\n            //                                 toolbar:\n            //                                 'undo redo | formatselect | bold italic backcolor | \\\n            //                                     alignleft aligncenter alignright alignjustify | \\\n            //                                     bullist numlist outdent indent | removeformat | help'\n            //                         }}\n            //                                     onEditorChange={this.handleEditorChange}\n            //                             />\n            //                             </div>\n            //                         </div>\n                                    \n            //                     </div>\n            //                     <div className=\"box-footer\" style={{paddingRight: '69px'}}>\n                                    \n            //                         <button type=\"submit\" className=\"btn btn-info pull-right\">Thêm</button>\n            //                     </div>\n            //         </form>\n            //     </div>\n            // </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}